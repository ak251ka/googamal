<?php  if(!defined('NEW_INCLUDE'))  {   $path = $_SERVER['DOCUMENT_ROOT'];   set_include_path(get_include_path() . PATH_SEPARATOR . $path);   define('NEW_INCLUDE', 1);  }  $time_start = microtime(true);  set_time_limit(0);  $link = mysql_connect('localhost', 'root', '');  mysql_select_db('test');  $start = memory_get_usage();  mysql_query('SET @prev_value = NULL;');  mysql_query('SET @rank_count = 0;');  $result = mysql_query(sprintf('SELECT `rank` FROM(SELECT `id`, `pop`, CASE WHEN @prev_value = `pop` THEN @rank_count WHEN @prev_value := `pop` THEN @rank_count := @rank_count + 1 END AS `rank` FROM `union_b` ORDER BY `pop`) AS `t`  WHERE `t`.`id` = \'%s\'','40'));  $end = memory_get_usage();  mysql_close($link);  $end = memory_get_usage();  $memory = $end - $start;  $time_end = microtime(true);  $time = $time_end - $time_start;  echo "Proccess in $time seconds<br />";  echo "<br />start  memory $start byte<br />";  echo "<br />end  memory $end byte<br />";  echo "<br />memory used $memory byte<br />";  ?>
<?php  require_once('.//lib/config.php');  require_once('.//lib/dbo.php');  require_once('.//lib/object.php');  class Data extends Object  {   public function Save($table)   {    global $dbo;    if(isset($this->_data['locks']))    {     $temp = $this->_data['locks'];     $this->_data['locks']++;     $set = '';     $b = false;     foreach ($this->_data as $key => $value)     {      if($b)       $set .= ', ';      else $b = true;      if(is_null($value))       $set .= '`'.$key.'` = NULL';      else       $set .= '`'.$key.'` = \''.$value.'\'';     }     $dbo->ExectueQuery('UPDATE `'.$table.'` SET '.$set.sprintf(' WHERE `id` = \'%s\' AND `locks` = \'%u\'  LIMIT 1;',$this->_data['id'],$temp));     return $dbo->AffectedRows();    }    $dbo->UpdateRow($table,$this->GetArray(),$this->_data['id']);    return $dbo->AffectedRows();       }  }  ?>